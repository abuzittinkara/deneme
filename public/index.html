<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sesli GÃ¶rÃ¼ÅŸme UygulamasÄ±</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- GiriÅŸ EkranÄ± -->
  <div id="loginScreen" class="screen-container" style="display: block;">
    <div class="card">
      <h1 class="app-title">Oturum AÃ§</h1>
      <input type="text" id="loginUsernameInput" placeholder="KullanÄ±cÄ± AdÄ±" class="input-text"/>
      <input type="password" id="loginPasswordInput" placeholder="Parola" class="input-text"/>
      <button id="loginButton" class="btn primary">GiriÅŸ Yap</button>
      <p style="margin-top: 1rem;">
        HesabÄ±n yok mu?
        <span id="showRegisterScreen" style="color:#fff; cursor:pointer; text-decoration:underline;">
          Yeni Hesap OluÅŸtur
        </span>
      </p>
    </div>
  </div>

  <!-- KayÄ±t EkranÄ± -->
  <div id="registerScreen" class="screen-container" style="display: none;">
    <div class="card">
      <h1 class="app-title">KayÄ±t Ol</h1>
      <input type="text" id="regUsernameInput" placeholder="KullanÄ±cÄ± AdÄ± (kÃ¼Ã§Ã¼k harf, benzersiz)" class="input-text"/>
      <input type="text" id="regNameInput" placeholder="Ä°sim" class="input-text"/>
      <input type="text" id="regSurnameInput" placeholder="Soy Ä°sim" class="input-text"/>
      <input type="date" id="regBirthdateInput" class="input-text"/>
      <input type="email" id="regEmailInput" placeholder="E-Posta" class="input-text"/>
      <input type="tel" id="regPhoneInput" placeholder="Telefon NumarasÄ±" class="input-text"/>
      <input type="password" id="regPasswordInput" placeholder="Parola" class="input-text"/>
      <input type="password" id="regPasswordConfirmInput" placeholder="Parola (Tekrar)" class="input-text"/>
      <button id="registerButton" class="btn primary">KayÄ±t Ol ve BaÅŸla</button>

      <!-- Geri Gel Butonu -->
      <button id="backToLoginButton" class="btn secondary">Geri Gel</button>

      <p style="margin-top: 1rem;">
        Zaten hesabÄ±n var mÄ±?
        <span id="showLoginScreen" style="color:#fff; cursor:pointer; text-decoration:underline;">
          Oturum AÃ§
        </span>
      </p>
    </div>
  </div>

  <!-- GÃ¶rÃ¼ÅŸme EkranÄ± -->
  <div id="callScreen" class="screen-container" style="display:none;">
    <!-- Sol taraftaki panel (Gruplar + DM + Odalar) -->
    <div id="leftPanels" class="left-panels">
      <div id="groupsAndRooms" class="groups-rooms">
        <!-- Sidebar (Gruplar) -->
        <div class="sidebar" id="sidebar">
          <!-- DM butonu -->
          <button id="toggleDMButton" class="circle-btn dm-toggle-btn">
            <!-- Zarf ikonu -->
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" 
                 stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 
                       1.1-.9 2-2 2H4c-1.1 
                       0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
          </button>
          
          <!-- Gruplar listesi -->
          <div id="groupList" class="group-list"></div>
          <!-- Grup OluÅŸtur Butonu -->
          <button id="createGroupButton" class="circle-btn create-group-btn">+</button>
        </div>

        <!-- Odalar Paneli -->
        <div id="roomPanel" class="rooms-panel">
          <!-- BaÅŸlÄ±k: Grup AdÄ± + Ok (âŒ„) -->
          <div class="room-panel-header">
            <h2 id="groupTitle" class="panel-title">SeÃ§ili Grup</h2>
            <span id="groupDropdownIcon" class="dropdown-icon">âŒ„</span>
            
            <!-- Dropdown menÃ¼ (gizli) -->
            <div id="groupDropdownMenu" class="dropdown-menu" style="display: none;">
              <div class="dropdown-item" id="renameGroupBtn">Grup ismi deÄŸiÅŸtir</div>
              <div class="dropdown-item" id="createChannelBtn">Kanal OluÅŸtur</div>
              <div class="dropdown-item" id="deleteGroupBtn">Grubu Sil</div>
            </div>
          </div>

          <!-- Odalar (kanallar) listesi -->
          <div id="roomList" class="room-list"></div>
          <!-- Oda OluÅŸturma Butonu -->
          <button id="createRoomButton" class="circle-btn create-room-btn">+</button>
        </div>
      </div>

      <!-- DM paneli (tam sol) -->
      <div id="dmPanel" class="dm-panel" style="display:none; position: relative;">
        <button id="closeDMButton" class="circle-btn dm-close-btn">
          <svg fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
               stroke-linejoin="round" viewBox="0 0 24 24" width="24" height="24">
            <line x1="19" y1="12" x2="5" y2="12"></line>
            <polyline points="12 19 5 12 12 5"></polyline>
          </svg>
        </button>

        <h3 style="margin-top: 2.5rem;">DM MesajlarÄ±</h3>
        <p>Birebir mesajlar buraya gelecek.</p>
      </div>

      <!-- Sol Alt KullanÄ±cÄ± Paneli -->
      <div id="leftUserPanel" class="user-panel">
        <div class="user-panel-content">
          <div class="user-profile-pic"></div>
          <div class="user-panel-info">
            <span id="leftUserName" class="left-username">(KullanÄ±cÄ±)</span>
          </div>
          <div class="user-panel-buttons">
            <button id="micToggleButton" class="user-panel-btn" title="Mikrofon AÃ§/Kapa">ğŸ¤</button>
            <button id="muteToggleButton" class="user-panel-btn" title="KulaklÄ±k (Kendini Sessize Al)">ğŸ”‡</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Ortadaki ana iÃ§erik -->
    <div class="main-content">
      <h1 class="app-title">Sesli GÃ¶rÃ¼ÅŸme</h1>
      <p>Grup seÃ§in ve soldan bir oda oluÅŸturup katÄ±lÄ±n.</p>
      <p>KatÄ±ldÄ±ÄŸÄ±nÄ±z odadaki kullanÄ±cÄ±larla sesli gÃ¶rÃ¼ÅŸme yapabilirsiniz.</p>
    </div>

    <!-- SaÄŸdaki kullanÄ±cÄ± paneli -->
    <div class="right-panel" id="rightPanel">
      <h2 class="panel-title">Aktif KullanÄ±cÄ±lar (Oda)</h2>
      <div id="userList" class="user-list"></div>
    </div>
  </div>

  <!-- Modal: Grup OluÅŸturma -->
  <div id="groupModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Grup OluÅŸtur</h2>
      <input type="text" id="modalGroupName" class="input-text" placeholder="Grup AdÄ±" />
      <div class="modal-buttons">
        <button id="modalCreateGroupButton" class="btn primary">OluÅŸtur</button>
        <button id="modalCloseButton" class="btn secondary">Kapat</button>
      </div>
    </div>
  </div>

  <!-- Modal: Oda OluÅŸturma -->
  <div id="roomModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Oda OluÅŸtur</h2>
      <input type="text" id="modalRoomName" class="input-text" placeholder="Oda AdÄ±" />
      <div class="modal-buttons">
        <button id="modalCreateRoomBtn" class="btn primary">OluÅŸtur</button>
        <button id="modalCloseRoomBtn" class="btn secondary">Kapat</button>
      </div>
    </div>
  </div>

  <!-- Scriptler -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="script.js"></script>
</body>
</html>
