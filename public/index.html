<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Görüşme Ekranı (SVG Tasarım)</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Giriş Ekranı -->
  <div id="loginScreen" class="screen-container" style="display:block;">
    <div class="card">
      <h1 class="app-title">Oturum Aç</h1>
      <input type="text" id="loginUsernameInput" placeholder="Kullanıcı Adı" class="input-text"/>
      <input type="password" id="loginPasswordInput" placeholder="Parola" class="input-text"/>
      <button id="loginButton" class="btn primary">Giriş Yap</button>
      <p style="margin-top: 1rem;">
        Hesabın yok mu?
        <span id="showRegisterScreen" style="color:#fff; cursor:pointer; text-decoration:underline;">
          Yeni Hesap Oluştur
        </span>
      </p>
    </div>
  </div>

  <!-- Kayıt Ekranı -->
  <div id="registerScreen" class="screen-container" style="display:none;">
    <div class="card">
      <h1 class="app-title">Kayıt Ol</h1>
      <input type="text" id="regUsernameInput" placeholder="Kullanıcı Adı (küçük harf)" class="input-text"/>
      <input type="text" id="regNameInput" placeholder="İsim" class="input-text"/>
      <input type="text" id="regSurnameInput" placeholder="Soyisim" class="input-text"/>
      <input type="date" id="regBirthdateInput" class="input-text"/>
      <input type="email" id="regEmailInput" placeholder="E-Posta" class="input-text"/>
      <input type="tel" id="regPhoneInput" placeholder="Telefon Numarası" class="input-text"/>
      <input type="password" id="regPasswordInput" placeholder="Parola" class="input-text"/>
      <input type="password" id="regPasswordConfirmInput" placeholder="Parola (Tekrar)" class="input-text"/>
      <button id="registerButton" class="btn primary">Kayıt Ol ve Başla</button>
      <button id="backToLoginButton" class="btn secondary">Geri Gel</button>
      <p style="margin-top: 1rem;">
        Zaten hesabın var mı?
        <span id="showLoginScreen" style="color:#fff; cursor:pointer; text-decoration:underline;">
          Oturum Aç
        </span>
      </p>
    </div>
  </div>

  <!-- Görüşme Ekranı (SVG tasarımına göre) -->
  <div id="callScreen" class="screen-container" style="display:none;">

    <!-- Arka plan / tasarım => 
         Büyük holder (arkaplan #141414 vb.) -->
    <div class="main-svg-background">
      <!-- İsterseniz <svg> kopyalayarak direkt embed edebilirsiniz. 
           Ya da bu "div"ler ile benzer layout. -->
    </div>

    <!-- Soldaki dikey panel (Gruplar) -->
    <div id="leftSVGPanel" class="left-svg-panel">
      <!-- Grup daireleri (.grp-item) -->
      <button id="toggleDMButton" class="circle-btn dm-toggle-btn">
        <!-- DM zarf ikonu (SVG vb.) -->
        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" 
             stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 
                   1.1-.9 2-2 2H4c-1.1 
                   0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
          <polyline points="22,6 12,13 2,6"></polyline>
        </svg>
      </button>

      <div id="groupList" class="group-list">
        <!-- .grp-item'lar script.js ile eklenecek -->
      </div>

      <!-- Grup Oluştur Butonu -->
      <button id="createGroupButton" class="circle-btn create-group-btn">+</button>
    </div>

    <!-- Üst bar (isteğe bağlı, SVG'deki "header" gibi) -->
    <div class="top-svg-bar">
      <!-- Grup Adı, Kanal Adı vb. -->
      <span id="groupTitle" class="panel-title">Seçili Grup</span>
      <span id="groupDropdownIcon" class="dropdown-icon">⌄</span>
      <div id="groupDropdownMenu" class="dropdown-menu" style="display:none;">
        <div class="dropdown-item" id="copyGroupIdBtn">Grup ID Kopyala</div>
        <div class="dropdown-item" id="renameGroupBtn">Grup ismi değiştir</div>
        <div class="dropdown-item" id="createChannelBtn">Kanal Oluştur</div>
        <div class="dropdown-item" id="deleteGroupBtn">Grubu Sil</div>
      </div>
    </div>

    <!-- Sağdaki panel (SVG'deki "sağ panel") -->
    <div class="right-svg-panel" style="overflow:auto;">
      <!-- Belki DM, eklenecek vb. -->
    </div>

    <!-- Ortadaki Rooms Panel -->
    <div class="rooms-panel" id="roomPanel">
      <h2 class="panel-title" style="margin:0;" id="channelTitle">Kanallar</h2>
      <div id="roomList" class="room-list"></div>
      <button id="createRoomButton" class="circle-btn create-room-btn">+</button>
    </div>

    <!-- Ortadaki ana içerik (konuşma) -->
    <div class="main-content">
      <h1 class="app-title">Sesli Görüşme</h1>
      <p>SVG tasarımına göre düzenlendi.</p>
      <p>Soldaki gruplar, alt tarafta user paneli vb.</p>
    </div>

    <!-- Alt bar (SVG'deki alt panel) -->
    <div class="bottom-svg-bar" style="display:flex; flex-direction:row;">
      <div id="leftUserPanel" class="user-panel">
        <div class="user-panel-content">
          <div class="user-profile-pic"></div>
          <div class="user-panel-info">
            <span id="leftUserName" class="left-username">(Kullanıcı)</span>
          </div>
          <div class="user-panel-buttons">
            <button id="micToggleButton" class="user-panel-btn" title="Mikrofon Aç/Kapa"
                    style="width:22px;height:22px;">Mic</button>
            <button id="deafenToggleButton" class="user-panel-btn" title="Kendini Sağırlaştır"
                    style="width:22px;height:22px;">Deaf</button>
            <button id="leaveButton" class="leave-btn" style="display:none;">☎</button>
          </div>
        </div>
      </div>

      <!-- Belki alt sağ vb. -->
    </div>

    <!-- DM paneli -->
    <div id="dmPanel" class="dm-panel" style="display:none;">
      <button id="closeDMButton" class="circle-btn dm-close-btn">
        <svg fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
             stroke-linejoin="round" viewBox="0 0 24 24" width="24" height="24">
          <line x1="19" y1="12" x2="5" y2="12"/>
          <polyline points="12 19 5 12 12 5"/>
        </svg>
      </button>
      <h3 style="margin-top:2.5rem;">DM Mesajları</h3>
      <p>Birebir mesajlar buraya gelecek.</p>
    </div>

    <!-- Sağ panel (Aktif Kullanıcılar) -->
    <div class="right-panel" id="rightPanel">
      <h2 class="panel-title">Aktif Kullanıcılar</h2>
      <div id="userList" class="user-list"></div>
    </div>
  </div>

  <!-- Modal: Grup Seçenekleri -->
  <div id="groupModal" class="modal">
    <div class="modal-content">
      <h2>Grup Seçenekleri</h2>
      <button id="modalGroupCreateBtn" class="btn primary">Grup Kur</button>
      <button id="modalGroupJoinBtn" class="btn secondary">Gruba Katıl</button>
    </div>
  </div>

  <!-- Modal: Grup Kurma -->
  <div id="actualGroupCreateModal" class="modal">
    <div class="modal-content">
      <h2>Yeni Grup Kur</h2>
      <input type="text" id="actualGroupName" class="input-text" placeholder="Grup Adı">
      <div class="modal-buttons">
        <button id="actualGroupNameBtn" class="btn primary">Oluştur</button>
        <button id="closeCreateGroupModal" class="btn secondary">Kapat</button>
      </div>
    </div>
  </div>

  <!-- Modal: Gruba Katıl -->
  <div id="joinGroupModal" class="modal">
    <div class="modal-content">
      <h2>Gruba Katıl</h2>
      <input type="text" id="joinGroupIdInput" class="input-text" placeholder="Grup ID">
      <div class="modal-buttons">
        <button id="joinGroupIdBtn" class="btn primary">Gruba Katıl</button>
        <button id="closeJoinGroupModal" class="btn secondary">Kapat</button>
      </div>
    </div>
  </div>

  <!-- Modal: Oda -->
  <div id="roomModal" class="modal">
    <div class="modal-content">
      <h2>Oda Oluştur</h2>
      <input type="text" id="modalRoomName" class="input-text" placeholder="Oda Adı">
      <div class="modal-buttons">
        <button id="modalCreateRoomBtn" class="btn primary">Oluştur</button>
        <button id="modalCloseRoomBtn" class="btn secondary">Kapat</button>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="script.js"></script>
</body>
</html>
